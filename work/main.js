function fn$(s){return s.name===ly.name}function fn1$(){var s,n=[];for(s=2;10>s;++s)i=s,n.push(0);return n}var fs,cmap,lines,lys,sessions,allSession,i$,len$,ly,key$,sessionAge,sessionAgeAgain,i,session,sessionAgain,j$,ref$,group,k,v,a,line,s,names,n,count,againer;for(fs=require("fs"),cmap="零一二三四五六七八九十",lines=fs.readFileSync("ly-all.csv").toString().split("\n").filter(function(s){return s}).map(function(s){return s.split(",")}),lines.splice(0,1),lys=lines.map(function(s){var n,i,e,o,l,r,a,t,g,u,$,y;return n=/第(.)屆\((\d+)\)/.exec(s[0]),i=cmap.indexOf(n[1]),e=+n[2],o=s[0],l=s[1],r=s[2],a=s[3],t=s[4],g=s[5],u=s[6],$=s[7],o=s[8],o=s[9],y=s[10],y="*"===y?!0:!1,{session:i,year:e,name:r,num:a,gender:t,birth:g,age:u,party:$,win:y}}),lys=lys.filter(function(s){return s.win}),sessions={},allSession={},i$=0,len$=lys.length;len$>i$;++i$)ly=lys[i$],allSession[ly.session]=1,(sessions[key$=ly.session]||(sessions[key$]=[])).push(ly);for(sessionAge={},sessionAgeAgain={},i$=2;9>i$;++i$)for(i=i$,session=sessionAge[i]||(sessionAge[i]={}),sessionAgain=sessionAgeAgain[i]||(sessionAgeAgain[i]={}),j$=0,len$=(ref$=sessions[i]).length;len$>j$;++j$)ly=ref$[j$],ly.birth||(ly.birth=ly.year-ly.age),group=5*parseInt((ly.year-ly.birth)/5),group=group+" ~ "+(group+4),(session[group]||(session[group]=[])).push(ly),(sessions[key$=i+1]||(sessions[key$]=[])).filter(fn$).length&&(sessionAgain[group]||(sessionAgain[group]=[])).push(ly);for(i$=2;10>i$;++i$){i=i$,session=sessionAge[i]||(sessionAge[i]={}),sessionAgain=sessionAgeAgain[i]||(sessionAgeAgain[i]={});for(k in session)v=session[k],session[k]=v.length;for(k in sessionAgain)v=sessionAgain[k],sessionAgain[k]=v.length}for(fs.writeFileSync("ly.json",JSON.stringify(lys)),names={},i$=0,len$=lys.length;len$>i$;++i$)ly=lys[i$],null==names[ly.name]&&(names[ly.name]={list:fn1$(),count:0}),names[ly.name].list[ly.session]=1;for(n in names)for(i$=2;10>i$;++i$)i=i$,names[n].list[i]?names[n].count++:count=0,count>names[n].count&&(names[n].count=count);againer=function(){var s=[];for(k in names)s.push(k);return s}().sort(function(s,n){return names[s].count-names[n].count}),againer.map(function(s){return console.log(s,names[s].count)});