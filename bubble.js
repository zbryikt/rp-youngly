d3.csv("ages-list.csv",function(n,t){var e,a,r,s,c,i,l,o,d,u,f,g,p,m,x,v,k,y;return e=[800,600,40],a=e[0],r=e[1],s=e[2],c=d3.select("#svg"),e=["age","session"].map(function(n){return d3.map(t,function(t){return t[n]}).keys()}),i=e[0],l=e[1],o=t.map(function(n){return+n.count||0}),console.log(d3.extent(o)),d=d3.scale.ordinal().domain(l).rangePoints([s,a-s]),u=d3.scale.ordinal().domain(i).rangePoints([r-s-20,s+20]),f=d3.scale.linear().domain(d3.extent(o)).range([0,40]),g=d3.svg.axis().scale(d).tickSize([1]),p=d3.svg.axis().scale(u).orient("left").tickSize([1]),m=c.append("g"),m.call(g),m.attr({"class":"x-axis",transform:"translate(0,"+(r-s)+")"}),x=c.append("g"),x.call(p),x.attr({"class":"y-axis",transform:"translate(0,0)"}),v=c.selectAll("circle.point").data(t),k=v.enter(),k.append("circle").attr({"class":"point"}),(y=function(){return c.selectAll("circle.point").attr({cx:function(n){return d(n.session)},cy:function(n){return u(n.age)},r:function(n){return f(n.count)},fill:function(){return"#000"},stroke:"#fff","stroke-width":"3"})})()});